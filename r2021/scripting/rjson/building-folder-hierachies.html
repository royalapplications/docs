<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Building folder hierarchies </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Building folder hierarchies ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper" class="ra-scripting">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="https://www.royalapps.com/?return_to_last_selected_page">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="building-folder-hierarchies">Building folder hierarchies</h1>

<p>By now you should have a good overview of how the rJSON format is structured and probably already toyed around with it a bit. One important topic we haven't touched yet is how folder hierarchies can be expressed in rJSON. Consider the following example:</p>
<p><img src="../../images/Scripting/rJSON/Screenshot_4.png" alt=""></p>
<p>So, what do we have here? Multiple folders, some of them nested in other folders, each having one child object.</p>
<p>Let's break the individual objects in this sample down into path representation:</p>
<ul>
<li>Client A/Credentials/Administrator</li>
<li>Client A/Connections/Hyper-V VM 01</li>
<li>Client B/To-Do</li>
</ul>
<p>So how do we express this in rJSON? Turns out there are two ways:</p>
<ul>
<li>The easy but less flexible way</li>
<li>The harder but more flexible way</li>
</ul>
<h2 id="the-easy-less-flexible-method">The easy (less flexible) method</h2>
<p>We'll start with the easy but less flexible method:</p>
<pre><code class="lang-json">{
	&quot;Objects&quot;: [
		{
			&quot;Type&quot;: &quot;Credential&quot;,
			&quot;Name&quot;: &quot;Administrator&quot;,
			&quot;Username&quot;: &quot;administrator&quot;,
			&quot;Password&quot;: &quot;@he38qewhq82r!&quot;,
			&quot;ID&quot;: &quot;00001&quot;,
			&quot;Path&quot;: &quot;Client A/Credentials&quot;
		},
		{
			&quot;Type&quot;: &quot;RemoteDesktopConnection&quot;,
			&quot;Name&quot;: &quot;Hyper-V VM 01&quot;,
			&quot;ComputerName&quot;: &quot;hyper-v-vm-01&quot;,
			&quot;CredentialID&quot;: &quot;00001&quot;,
			&quot;Path&quot;: &quot;Client A/Connections&quot;
		},
		{
			&quot;Type&quot;: &quot;ToDo&quot;,
			&quot;Name&quot;: &quot;To-Do&quot;,
			&quot;Description&quot;: &quot;Add content&quot;,
			&quot;Path&quot;: &quot;Client B&quot;
		}
	]
}
</code></pre>
<p>We're going to skip most of the content in this sample and focus only on the <code>Path</code> properties.
Recall the path representation we previously mentioned? Basically we apply this to each of the objects we create in this sample.
For instance, the first object (the &quot;Administrator&quot; credential) has its <code>Path</code> set to &quot;Client A/Credentials&quot;. This tells our parser to put the credential into a folder named &quot;Credentials&quot; which itself is nested inside another folder named &quot;Client A&quot;.
The remote desktop connection &quot;Hyper-V VM 01&quot; uses the same approach to ensure it lands in a folder named &quot;Connections&quot; which is nested in a folder named &quot;Client A&quot;.
Which leaves us at the last object, the creatively named To-Do item &quot;To-Do&quot;. 😉 This one is not nested in subfolders but instead will end up right in the &quot;Client B&quot; folder.</p>
<p>A few things worth pointing out here:</p>
<ul>
<li>The paths are always relative to the dynamic folder or rJSON document. You cannot relocate objects outside of those boundaries using rJSON.</li>
<li>You can add a leading (root) slash if you want. It will be ignored by the parser. Or in other words: <code>&quot;Path&quot;: &quot;/Client A&quot;</code> is the same as <code>&quot;Path&quot;: &quot;Client A&quot;</code>.</li>
<li>If you're a Windows guy, go ahead and use backslashes instead of those beautiful forward slashes everyone else is using. In other words: <code>&quot;Path&quot;: &quot;Client A\Credentials&quot;</code> is the same as <code>&quot;Path&quot;: &quot;Client A/Credentials&quot;</code>.</li>
</ul>
<h2 id="the-hard-more-flexible-method">The hard (more flexible) method</h2>
<p>You might be wondering what's wrong with the easy method. It's perfectly sound for most scenarios but is missing one key feature: There's no way to configure the properties of the folders themselves. So that's why we're happy to introduce you to the dark side… I mean, the hard method:</p>
<pre><code class="lang-json">{
	&quot;Objects&quot;: [
		{
			&quot;Type&quot;: &quot;Folder&quot;,
			&quot;Name&quot;: &quot;Client A&quot;,
			&quot;Objects&quot;: [
				{
					&quot;Type&quot;: &quot;Folder&quot;,
					&quot;Name&quot;: &quot;Credentials&quot;,
					&quot;Objects&quot;: [
						{
							&quot;Type&quot;: &quot;Credential&quot;,
							&quot;Name&quot;: &quot;Administrator&quot;,
							&quot;Username&quot;: &quot;administrator&quot;,
							&quot;Password&quot;: &quot;@he38qewhq82r!&quot;,
							&quot;ID&quot;: &quot;00001&quot;
						}
					]
				},
				{
					&quot;Type&quot;: &quot;Folder&quot;,
					&quot;Name&quot;: &quot;Connections&quot;,
					&quot;CredentialID&quot;: &quot;00001&quot;,
					&quot;Objects&quot;: [
						{
							&quot;Type&quot;: &quot;RemoteDesktopConnection&quot;,
							&quot;Name&quot;: &quot;Hyper-V VM 01&quot;,
							&quot;ComputerName&quot;: &quot;hyper-v-vm-01&quot;,
							&quot;CredentialsFromParent&quot;: true
						}
					]
				}
			]
		},
		{
			&quot;Type&quot;: &quot;Folder&quot;,
			&quot;Name&quot;: &quot;Client B&quot;,
			&quot;Objects&quot;: [
				{
					&quot;Type&quot;: &quot;ToDo&quot;,
					&quot;Name&quot;: &quot;To-Do&quot;,
					&quot;Description&quot;: &quot;Add content&quot;
				}
			]
		}
	]
}
</code></pre>
<p>Now that looks complicated! And we're talking 47 lines vs. 25 for the previous method. Doesn't sound very efficient but there's a very good reason we'd want to use this instead of the easy method.</p>
<p>Consider having more than one connection in the &quot;Client A/Connections&quot; folder. Now if you wanted to assign the same credential to each of those connections, wouldn't it be easier to just assign it to the parent folder and let the connections inherit their parent folder's credentials? Or maybe you want to save some additional notes on the Client folders for documentation purposes? Or assign a Secure Gateway to the folder and let all connections use it… All of these cases make it necessary to be able to specify additional properties for the folder objects. So that's why folder objects are first-class citizens in rJSON and can be created just like other objects.</p>
<p>To create a folder object, just set its <code>Type</code> to &quot;Folder&quot; and specify the child objects using the <code>Objects</code> property, just like the <code>Objects</code> property of the root JSON element (RoyalJSONDocument).
To let objects inherit their credential configuration from their parent, set their <code>CredentialsFromParent</code> property to &quot;true&quot;.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Note that the <code>Path</code> property takes precedence over folder nesting, so if both are used, the object will be placed in the folder pointed to by the <code>Path</code> property.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/royalapplications/docs/blob/main/src/r2021/scripting/rjson/building-folder-hierachies.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a rel="me" href="https://dotnet.social/@royalapps">&nbsp;</a>
            
            <span>Copyright © <strong>Royal Apps</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/ra.vendor.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

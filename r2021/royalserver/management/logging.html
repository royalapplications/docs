<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Logging </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Logging ">
    
      <link rel="shortcut icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper" class="ra-royalserver">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="version-reset">
              A newer version of this website is available.
              <button class="version-reset-link">Switch to the current version</button>
          </div>
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="https://www.royalapps.com/?return_to_last_selected_page">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>      
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="logging">Logging</h1>

<img src="/r2021/images/RoyalServer/Logging_48x48.png" class="icon-def" alt="">
<p>The Logging Configuration panel displays and changes the logging configuration of Royal Server.</p>
<h2 id="show-or-activate-the-logging-panel">Show or Activate the Logging Panel</h2>
<p>In The Royal Server Configuration Tool Navigation Bar, click on the <strong>Royal Server</strong> group and then on the <strong>Logging</strong> entry.</p>
<h2 id="features">Features</h2>
<p><strong>Log Level</strong></p>
<p>The following Log Levels are supported:</p>
<ul>
<li>No Logging (logging is disabled)</li>
<li>Debug (this setting is intended for trouble shooting only since it generates a significant amount of data)</li>
<li>Information (a lot of information is logged, including the meta data of all requests and responses Royal Server is executing. If you need to see the full data of the request or response, check Request/Response Logging)</li>
<li>Warning</li>
<li>Error</li>
<li>Fatal</li>
</ul>
<p>A default setting of Warning or Error is recommended.</p>
<p><strong>Type</strong></p>
<p><em>Type: Windows Event Log</em></p>
<p>Royal Server is writing the logs in a separate Windows Event Log called 'Royal Server Log'.</p>
<p><em>Type: File</em></p>
<p>Royal Server is writing the logs in a specified file.</p>
<p>Using <strong>Open log...</strong> is opening the currently specified log.</p>
<h3 id="log-directory">Log Directory</h3>
<p>Specifies the directory where the log files should be written to (if Type <em>File</em> is selected), by default this is <code>%ProgramData%\RoyalServer\Logs</code>. You can also use variables like <code>%TEMP%</code>.</p>
<h3 id="log-file">Log File</h3>
<p>Specifies the log file name (if Type <em>File</em> is selected).</p>
<p>Up to <code>Royal Server V3</code>, the rolling mechanism changes the file once per day to limit the file size.</p>
<p><strong>Example:</strong></p>
<p>If you set the Log File to &quot;logserverlog.txt&quot;, you will find a file with that name in the specified directory. On the next day, the content of this file is moved to a file name formatted like <em>logserverlog<yyyymmdd>.txt</yyyymmdd></em>, e.g. logserverlog20210101.txt. The file logserverlog.txt always contains the current day.</p>
<p>As of Royal Server V4, the file log provider uses a rolling interval and appends the time period between file name and file extension. The rolling interval is set to a <code>Day</code> (3) by default. Furthermore, the log file is limited to 1GB, in order to avoid bringing down the server with runaway disk usage. Once this limit is reached, no events will be written until the next roll interval starts.</p>
<p><strong>Example:</strong></p>
<p>If you set the Log File to &quot;logserverlog*.txt&quot;, you will find a file with the name formatted like logserverlog*[yyyyMMdd].txt in the specified directory, e.g. logserverlog_20210101.txt. On the next day, a new log file will be created, e.g. logserverlog_20210102.txt.</p>
<p>If you want to configure a different interval, change the value for <code>FileLogRollingInterval</code> in<code> %ProgramData%\RoyalServer\appsettings.json</code>.</p>
<p>Allowed values:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th style="text-align: center;">Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Infinite</td>
<td style="text-align: center;">0</td>
<td>The log file will never roll. Appends no time period information.</td>
</tr>
<tr>
<td>Year</td>
<td style="text-align: center;">1</td>
<td>Roll every year. Appends <code>yyyy</code>.</td>
</tr>
<tr>
<td>Month</td>
<td style="text-align: center;">2</td>
<td>Roll every calendar month. Appends <code>yyyyMM</code>.</td>
</tr>
<tr>
<td>Day</td>
<td style="text-align: center;">3</td>
<td>Roll every day. Appends <code>yyyyMMdd</code>.</td>
</tr>
<tr>
<td>Hour</td>
<td style="text-align: center;">4</td>
<td>Roll every hour. Appends <code>yyyyMMddHH</code>.</td>
</tr>
<tr>
<td>Minute</td>
<td style="text-align: center;">5</td>
<td>Roll every minute. Appends <code>yyyyMMddHHmm</code>.</td>
</tr>
</tbody>
</table>
<div class="NOTE">
<h5>Note</h5>
<p>Any change in this panel requires a restart of Royal Server.</p>
</div>
<p><strong>Request/Response Logging</strong></p>
<p>If checked, the complete requests and responses will be logged in separate files. The destination directory can be specified. This type of logging is only supported to files.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>Passwords are not logged into the log files though other sensitive information (e.g. when executing a Script that contains passwords) will be logged.</p>
</div>
<div class="NOTE">
<h5>Note</h5>
<p>Be aware that for each request, two log files will be generated. One <em><guid>_request.xml</guid></em> file and one <em><guid>_response.xml</guid></em> file.</p>
</div>
<div class="NOTE">
<h5>Note</h5>
<p>Enabling Request/Response Logging can have a huge impact on the Royal Server performance as well as the amount of data written to disc. It is strongly recommended to use this only for debugging purposes.</p>
</div>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="form p-e2">
                <div class="form-group">
                  <label for="version-select">Version</label>
                  <select id="version-select" class="form-control">
                    <option value="r2023">Royal TS V7 / Royal Server V5</option>
                    <option value="r2021">Royal TS V6 / Royal Server V4</option>
                  </select>
                </div>
              </div>
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/royalapplications/docs/blob/main/src/r2021/royalserver/management/logging.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>    
            </div>
  
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a rel="me" href="https://dotnet.social/@royalapps">&nbsp;</a>
      
      <span>Copyright © <strong>Royal Apps</strong></span>
          </div>
        </div>
      </footer>
    </div>
 
    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/ra.vendor.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

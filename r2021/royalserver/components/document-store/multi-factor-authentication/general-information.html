<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Multi-Factor Authentication </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Multi-Factor Authentication ">
    
      <link rel="shortcut icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../../../styles/docfx.css">
      <link rel="stylesheet" href="../../../../styles/main.css">
      <meta property="docfx:navrel" content="../../../../toc.html">
      <meta property="docfx:tocrel" content="../../../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper" class="ra-royalserver">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="https://www.royalapps.com/?return_to_last_selected_page">
                <img id="logo" class="svg" src="../../../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="multi-factor-authentication">Multi-Factor Authentication</h1>

<p>Multi-Factor authentication can be configured to further secure the access to the Document Store component.</p>
<h2 id="accessing-the-document-store-component">Accessing the Document Store component</h2>
<p>If you have Multi-Factor authentication configured, opening a document hosted by Royal Server only works when the user has the proper permissions, the proper Access Rules are met (if configured) and if the user can provide the second factor (via using his Smartphone).</p>
<h2 id="general-information">General Information</h2>
<img src="/r2021/images/RoyalServer/MFA_48x48.png" class="icon-def" alt="">
<p>The Multi-Factor Authentication panel allows the configuration of a second factor when opening a Royal Server hosted document.</p>
<h2 id="show-or-activate-the-multi-factor-authentication-pane">Show or Activate the Multi-Factor Authentication Pane</h2>
<p>In The Royal Server Configuration Tool Navigation Bar, click on the Document Store group and then on the Multi-Factor Authentication entry. For each document hosted by Royal Server a second factor for authentication can be specified.</p>
<p>Note: MFA abbreviation<br>
MFA means Multi-Factor Authentication.</p>
<h2 id="features">Features</h2>
<ul>
<li>Specify, if Multi-Factor Authentication is Off, Optional (when a user is configured for MFA, this configuration is used, if no configuration is found none is used) or Forced (no access to documents is allowed unless the user has an MFA configuration)</li>
<li>Specify the supported Providers. Currently Royal Server supports &quot;Generic TOTP Authenticator (Google, Microsoft, etc) and DUO (beta).</li>
<li>On the User Management tab, you can configure for each user the MFA configuration. Enroll the user, show the previous enrollment information or delete an MFA configuration for a user.</li>
</ul>
<p><strong>Configure the Multi-Factor Authentication</strong></p>
<p>Royal Server supports three modes:</p>
<ol>
<li>Off (no second factor is required)</li>
<li>Optional (If a user has configured a second factor, he has to use it, if not, no second factor is required)</li>
<li>Forced (Every user has to have a second factor configured. If not, access is rejected.</li>
</ol>
<p><strong>Configure the Provider</strong></p>
<p>On the Provider tab, you can enable or disable providers for the whole server. In some cases, additional configuration is needed, e.g. when working with DUO you also need to specify a set of keys and a host name.</p>
<p>If a user only has one provider configured, and this provider is disabled, the user needs to be enrolled for one of the other currently active providers.</p>
<p><strong>User Management - Enrolling</strong></p>
<p>Enrolling a user for a second factor is straight forward. Specify the user, the provider and the needed information. E.g. for TOTP the Issuer and Label are purely for the user interface, for DUO you need to specify the DUO user id. In the case of TOTP, the result is a unique string and a QR code that need to be stored in the Authenticator Apps on the users smartphone (scan the QR code or input the string).</p>
</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="form p-e2">
                <div class="form-group">
                  <label for="version-select">Version</label>
                  <select id="version-select" class="form-control">
                    <option value="r2023">Royal TS V7 / Royal Server V5</option>
                    <option value="r2021">Royal TS V6 / Royal Server V4</option>
                  </select>
                </div>
              </div>
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/royalapplications/docs/blob/main/src/r2021/royalserver/components/document-store/multi-factor-authentication/general-information.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>    
            </div>
  
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a rel="me" href="https://dotnet.social/@royalapps">&nbsp;</a>
      
      <span>Copyright © <strong>Royal Apps</strong></span>
          </div>
        </div>
      </footer>
    </div>
 
    <script type="text/javascript" src="../../../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/ra.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>

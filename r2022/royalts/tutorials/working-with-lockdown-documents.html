<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Working with Lockdown Documents </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Working with Lockdown Documents ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper" class="ra-royalts">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="royalts_tutorials_lockdown">
<h1 id="working-with-lockdown-documents">Working with Lockdown Documents</h1>

<h2 id="what-is-lockdown">What is Lockdown?</h2>
<p>A document with a lockdown password can enforce certain restrictions (such as read-only) on a document unless you enter the proper lockdown password. Lockdown documents are mostly used to provide pre-configured documents to users which cannot be modified or where users cannot read the password in a connection's credential configuration. Before you can configure a &quot;<strong>Lockdown</strong>&quot; document, you must enable document <strong>Encryption</strong> in the <strong>Security</strong> settings of the document properties (see also <a class="xref" href="working-with-documents.html">Working with Documents</a>).</p>
<p>A locked down document behaves like this:</p>
<ul>
<li>When a locked down document is opened, the <strong>Encryption</strong> password must be entered when prompted.</li>
<li>After entering the encryption password, the document is opened in <strong>lockdown-mode</strong> (a small padlock indicator is displayed next to the document in the navigation tree).</li>
<li>During lockdown-mode, the configured restrictions (like read-only or passwords cannot be read) are enforced.</li>
<li>The user can work with all the object of the document (connect, execute tasks, etc.) but with some restrictions.</li>
<li>Depending on the configured restrictions, the user may not be able to edit the document or view passwords.</li>
<li>To (temporary) remove the configured restrictions, the user needs to know and enter the lockdown password to <strong>unlock</strong> the document.</li>
<li>When unlocked, no restrictions apply to the document.</li>
</ul>
<div class="IMPORTANT">
<h5>Important</h5>
<p>While we understand the case to create documents which allows users to log on to production servers without knowing the actual password, we still think that many problems and security related issues can come up with this approach. The lockdown feature is intended to help you to better manage your documents and prevent users from easily and accidentally obtaining a confidential password. However, depending on your scenario, this approach may not be &quot;bullet proof&quot; or give you the desired results. There are also many restrictions and side-effects which are applied to the workflow when you lock down a document. So make sure you fully test all workflows before you release any documents to your users!</p>
</div>
<h2 id="configure-lockdown">Configure Lockdown</h2>
<p>A Royal TS document can be protected by a password. Once configured, you need to enter the password to open a document. To enable password protection, follow these steps:</p>
<ol>
<li>In the <strong>Navigation</strong> panel, select the document to protect by a password.</li>
<li>Right-click on the selected document and select the <strong>Properties</strong> menu item. Alternatively you can use the <strong>Properties</strong> command on the <strong>Edit</strong> ribbon tab.</li>
<li>In the document properties dialog, select <strong>Security</strong>.</li>
<li>Check the <strong>Enable Encryption</strong> option.</li>
<li>Enter and confirm the password.</li>
<li>Switch to the <strong>Lockdown</strong> tab.</li>
<li>Check the <strong>Encrypt</strong> complete file option.</li>
<li>Click the <strong>Set Lockdown Password</strong> button.</li>
<li>Enter and confirm the lockdown password.</li>
<li>Choose one or more restrictions.</li>
<li>Click <strong>OK</strong>.</li>
</ol>
<h2 id="lockdown-policies">Lockdown Policies</h2>
<p>The lockdown policies are only applied and enforced when a document is locked down. When enabled, you will see a yellow padlock icon in the tree next to the document. When you unlock a document with your lockdown password, the padlock icon will turn green and the restrictions are no longer applied.</p>
<p>The following policies can be enabled for a lockdown document:</p>
<h3 id="do-not-allow-to-reveal-passwords-in-this-document">Do not allow to reveal passwords in this document</h3>
<p>When enabled, the user cannot see any passwords in the user interface. This policy is meant to prevent the accidental exposure of your passwords in case you are not the only one looking at your screen while working in Royal TS.</p>
<div class="CAUTION">
<h5>Caution</h5>
<p>This policy does not prevent you from moving objects to a different document. If you want to increase the level of password protection, you also need to enable the &quot;Do not allow to edit or modify this document&quot; (see below).</p>
</div>
<h3 id="do-not-allow-to-edit-or-modify-this-document">Do not allow to edit or modify this document</h3>
<p>When enabled, the document is in read-only mode. In read-only mode, you cannot edit or move any object in or out of this document, or to another document.</p>
<h3 id="allow-passwords-in-web-page-connections">Allow passwords in web page connections</h3>
<p>One of the side effects of lockdown documents is the restrictions of using passwords in auto-fill configurations or key sequence tasks. We introduced this policy to enable passwords in web page connections.</p>
<h2 id="lock-and-unlock-lockdown-documents">Lock and Unlock Lockdown Documents</h2>
<p>To unlock a lockdown document, right-click the document and select <strong>Unlock Document</strong>. Royal TS will then ask for the lockdown password. The padlock icon next to the document will change to an open padlock.</p>
<p>To lock a lockdown document, right-click the document and select <strong>Lock Document</strong>. The padlock icon next to the document will change to a locked padlock.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p><strong>Restrictions when using Lockdown Documents</strong><br>
To ensure that passwords cannot be easily obtained, some restrictions apply to Locked documents, especially when revealing the password is prohibited:</p>
<ul>
<li><strong>Replacement Tokens</strong>: Secure properties (such as $EffectivePassword$ or $CredentialPassword$) are not resolved in command tasks, key sequence tasks, connections or templates.</li>
<li><strong>Ad Hoc Connections</strong>: Ad hoc connections are basically duplicates of the original connection which are placed in the Application document's Ad Hoc folder. During this process, none of the secure properties are copied over to the ad hoc connection. Connections configured to use username and password will fail to logon. Connections using assigned credentials will logon successfully because there is no secure property transferred to the ad hoc connection, only the reference to an existing credential.</li>
<li><strong>Copy/Move of Connections to other Documents</strong>: all copy or move operations from a Locked document to another document are prohibited.</li>
<li><strong>Terminal Connection based on the PuTTY plugin</strong>: since PuTTY needs the password passed on through the command-line, we will only support auto logon for Terminal connections using the Rebex plugin.</li>
<li><strong>VNC based on UltraVNC and TightVNC</strong>: like the PuTTY based plugin, the UltraVNC and TightVNC connections are established by passing on the password through the command-line. Auto logon for VNC connection is therefore not supported for locked down documents which do not allow to reveal passwords.</li>
<li><strong>Web Page Connections with Auto Fill</strong>: Using secure properties (such as $EffectivePassword$ or $CredentialPassword$ in web page auto fill will not be supported when a document is locked down. If the lockdown policy Allow passwords in web page connections is enabled, secure properties will be passed on for auto fill purposes.</li>
<li><strong>Scripting</strong>: Access to secure properties of locked down documents using script is also not supported.</li>
</ul>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/royalapplications/docs/blob/main/src/r2022/royalts/tutorials/working-with-lockdown-documents.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © <strong>Royal Apps</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/ra.vendor.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
